<div class="debug-panel">
  <div class="debug-toggle">
    <button
      type="button"
      (click)="toggleDebugMode()"
      [class.active]="debugMode()"
      class="toggle-button">
      {{ debugMode() ? 'Disable Debug Mode' : 'Enable Debug Mode' }}
    </button>
  </div>

  @if (debugMode()) {
    <div class="debug-fields">
      <h3>Manual Submission</h3>

      <div class="field-group">
        <label for="manualIdNumber">ID Number</label>
        <div class="input-with-button">
          <input
            id="manualIdNumber"
            type="text"
            [value]="manualIdNumber()"
            (input)="onManualIdNumberChange($any($event.target).value)"
            placeholder="Enter ID number"
          />
          <button
            type="button"
            (click)="generateRandomId()"
            class="inline-button">
            Random
          </button>
        </div>
        <small>ID number for the patient</small>
      </div>

      <div class="field-group">
        <label for="manualServiceId">Service ID (Optional)</label>
        <input
          id="manualServiceId"
          type="text"
          [value]="manualServiceId()"
          (input)="onManualServiceIdChange($any($event.target).value)"
          placeholder="e.g., service-123"
        />
        <small>Service identifier (leave empty for no service)</small>
      </div>

      <div class="field-group">
        <label for="manualDuration">Duration (minutes)</label>
        <input
          id="manualDuration"
          type="number"
          [value]="manualDuration() ?? ''"
          (input)="onManualDurationChange($any($event.target).value)"
          placeholder="e.g., 15"
          min="1"
        />
        <small>Estimated service duration in minutes</small>
      </div>

      <hr class="divider" />

      <h4>Patient Information (Optional)</h4>
        <div class="field-group">
          <label for="symbols">Priority Symbols (comma-separated)</label>
          <input
            id="symbols"
            type="text"
            [value]="symbols()"
            (input)="onSymbolsChange($any($event.target).value)"
            placeholder="e.g., STATIM, VIP, IMMOBILE"
          />
          <small>Examples: STATIM, VIP, IMMOBILE</small>
        </div>

        <div class="field-group">
          <label for="appointmentTime">Appointment Time</label>
          <input
            id="appointmentTime"
            type="datetime-local"
            [value]="appointmentTime()"
            (input)="onAppointmentTimeChange($any($event.target).value)"
          />
          <small>Scheduled appointment time (ISO 8601 format)</small>
        </div>

        <div class="field-group">
          <label for="age">Age</label>
          <input
            id="age"
            type="number"
            [value]="age() ?? ''"
            (input)="onAgeChange($any($event.target).value)"
            placeholder="Patient age"
            min="0"
          />
          <small>Patient age for age-based prioritization</small>
        </div>

        <div class="field-group">
          <label for="manualOverride">Manual Override Priority</label>
          <input
            id="manualOverride"
            type="number"
            step="0.1"
            [value]="manualOverride() ?? ''"
            (input)="onManualOverrideChange($any($event.target).value)"
            placeholder="e.g., 0.5"
          />
          <small>Manual priority override (lower = higher priority)</small>
        </div>

        <button
          type="button"
          (click)="submitManualEntry()"
          [disabled]="isSubmitting() || !manualIdNumber()"
          class="submit-button">
          {{ isSubmitting() ? 'Submitting...' : 'Submit Entry' }}
        </button>

        <button
          type="button"
          (click)="clearManualSubmissionFields()"
          class="clear-button">
          Clear Submission Fields
        </button>

        <button
          type="button"
          (click)="clearFields()"
          class="clear-button">
          Clear Patient Info
        </button>
      </div>
  }
</div>
